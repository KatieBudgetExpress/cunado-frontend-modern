<uib-accordion>
    <div style="margin-top:10px;" ng-repeat="categorie in ::vm.tableData" ng-if="categorie.liste.length">
        <uib-accordion-group ng-init="status={isOpen: true}" is-open="status.isOpen" panel-class="bootstrap-panel accordion-panel panel-default">
            <uib-accordion-heading>
                {{ ::categorie.nom | translate }}
            </uib-accordion-heading>
            <div class="row">
                <table st-table="categorie.liste" class="table table-hover">
                    <thead>
                      <tr class="sortable" style="font-weight: bold">
                        <th style="width:30px;"></th>
                        <th style="width:90px; font-weight: bold;" st-sort="DTPOSTED" st-sort-default="true">{{'ECRAN.CONCILIATION.DATE' | translate }}</th>
                        <th style="font-weight: bold;" st-sort="NAME">{{'ECRAN.CONCILIATION.DESCRIPTION' | translate }}</th>
                        <th style="font-weight: bold; text-align: right;" st-sort="TRNAMT">{{'ECRAN.CONCILIATION.MONTANT' | translate }}</th>
                        <th style="width:30px;"></th>
                        <th style="width:20px;"></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="row in categorie.liste">
                        <td ng-click="vm.toggleData(row)"><img ng-if="liste.concilie.includes(row)" ng-src="{{ 'Apply' | glossyBusinessImg }}" width="20" height="20"></td>
                        <td ng-click="vm.toggleData(row)">{{vm.getDate(row.DTPOSTED)}}</td>
                        <td ng-click="vm.toggleData(row)" ng-if="!row.description2">{{row.NAME}}</td>
                        <td ng-click="vm.toggleData(row)" ng-if="row.description2">{{row.description2}} - {{row.NAME}}</td>
                        <td ng-click="vm.toggleData(row)" align="right" >{{row.TRNAMT | cuCurrency: ctrl.devise}}</td>
                        <td ng-click="vm.toggleData(row)" style="text-align: center;">
                          <i ng-if="!liste.temporaire.includes(row)" class="fa fa-square-o" aria-hidden="true"></i>
                          <i ng-if="liste.temporaire.includes(row)" class="fa fa-check-square-o" aria-hidden="true"></i>
                        </td>
                        <td ng-click="vm.ajouterTransaction(row)" style="text-align: center;">
                          <i class="fa fa-plus-circle" aria-hidden="true" style="color: #DD4B39;" title="{{'ECRAN.CONCILIATION.AJOUTER_OPE_UNIQUE' | translate }}"></i>
                        </td>
                      </tr>
                    </tbody>
                    <tfoot>
                    <tr>
                        <td colspan="6" class="text-center">
                            <div st-pagination="" st-items-by-page="14"
                                 st-displayed-pages="7"></div>
                        </td>
                    </tr>
                    </tfoot>
                </table>
            </div>
        </uib-accordion-group>
    </div>
</uib-accordion>
