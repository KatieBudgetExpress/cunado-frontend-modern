<h3 class="with-line-top">{{ 'ECRAN.PROFIL.INFO' | translate }}</h3>
<div ng-init="getProfil()">
    <div class="row">
        <div class="col-md-6" style="padding-bottom: 5px;">
            <div class="form-group row clearfix">
                <label for="uploadFile" class="col-sm-4 control-label">
                  <!--{{ 'ECRAN.PROFIL.PHOTO' | translate }}-->
                </label>
<!--
                <div class="col-sm-8">
                    <div class="userpic">
                      <div class="userpic-wrapper"
                           ng-model="file"
                           id="uploadFile"
                           accept="'image/*'"
                           ngf-pattern="'image/*'"
                           ng-disabled="true">
                          <img ng-if="file" ng-src="{{ file.path }}" id="ProfilImage">
                          <img ng-if="!file" ng-src="assets/img/app/profile/aucune.png">
                      </div>
<!--
                        <div class="userpic-wrapper"
                             ng-model="file"
                             id="uploadFile"
                             ngf-select
                             ngf-drop
                             ngf-change="upload($files, $file, $newFiles, $duplicateFiles, $invalidFiles, $event)"
                             ngf-drag-over-class="'dragover'"
                             accept="'image/*'"
                             ngf-pattern="'image/*'">
                            <img ng-if="file" ng-src="{{ file.path }}" id="ProfilImage">
                            <img ng-if="!file" ng-src="assets/img/app/profile/aucune.png">
                        </div>
                        <a class="change-userpic">
                            {{ 'ECRAN.PROFIL.PHOTO_MSG' | translate }}
                        </a>
                        <div ngf-no-file-drop>
                            {{::'ECRAN.CONCILIATION.DROP_FILE_COMPATIBILITY' | translate }}
                        </div>
                    </div>
                </div>
-->
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group row clearfix has-feedback"
                 ng-class="{'has-error': vm.profilForm.prenom.$invalid && (vm.profilForm.prenom.$touched || vm.profilForm.$submitted)}">
                <label for="inputPrenom" class="col-sm-4 control-label">{{ 'ECRAN.PROFIL.PRENOM' | translate }}</label>
                <div class="col-sm-8">
                    <input next-focus ng-attr-type="text" class="form-control" name="prenom" ng-model="profil.prenom" required>
                    <span class="help-block error-block basic-block" ng-messages="vm.profilForm.prenom.$error"
                          ng-if="vm.profilForm.prenom.$invalid && (vm.profilForm.prenom.$touched || vm.profilForm.$submitted)">
                        <p ng-message="required">{{ 'GLOBALE.AIDE.OBLIGATOIRE' | translate }}</p>
                    </span>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group row clearfix has-feedback"
                 ng-class="{'has-error': vm.profilForm.nom.$invalid && (vm.profilForm.nom.$touched || vm.profilForm.$submitted)}">
                <label for="inputNom" class="col-sm-4 control-label">{{ 'ECRAN.PROFIL.NOM' | translate }}</label>
                <div class="col-sm-8">
                    <input next-focus ng-attr-type="text" class="form-control" name="nom" ng-model="profil.nom" required>
                    <span class="help-block error-block basic-block" ng-messages="vm.profilForm.nom.$error"
                          ng-if="vm.profilForm.nom.$invalid && (vm.profilForm.nom.$touched || vm.profilForm.$submitted)">
            <p ng-message="required">{{ 'GLOBALE.AIDE.OBLIGATOIRE' | translate }}</p>
          </span>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group row clearfix has-feedback"
                 ng-class="{'has-error': vm.profilForm.courriel.$invalid && (vm.profilForm.courriel.$touched || vm.profilForm.$submitted)}">
                <label for="inputCourriel" class="col-sm-4 control-label">{{ 'ECRAN.PROFIL.COURRIEL' | translate}}</label>
                <div class="col-sm-8">
                    <input next-focus ng-attr-type="email" class="form-control" name="courriel" ng-model="profil.courriel" ng-disabled="true" required>
                    <span class="help-block error-block basic-block" ng-messages="vm.profilForm.courriel.$error"
                          ng-if="vm.profilForm.courriel.$invalid && (vm.profilForm.courriel.$touched || vm.profilForm.$submitted)">
            <p ng-message="required">{{ 'GLOBALE.AIDE.COURRIEL_REQUIS' | translate }}</p>
          </span>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group row clearfix">
                <label for="inputTelephone" class="col-sm-4 control-label">{{ 'ECRAN.PROFIL.TELEPHONE' | translate
                    }}</label>
                <div class="col-sm-8">
                    <input next-focus ng-attr-type="text" class="form-control" name="telephone" ng-model="profil.telephone">
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group row clearfix">
                <label for="inputLangue" class="col-sm-4 control-label">{{ 'ECRAN.PROFIL.LANGUE' | translate }}</label>
                <div class="col-sm-8">
                    <select class="form-control"
                            ng-options="language.corresp | translate for language in ctrl.languageOptions track by language.id"
                            name="langue" ng-model="ctrl.languageSelected" ng-change="ctrl.updateLanguage()" selectpicker
                            required></select>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group row clearfix">
                <label for="inputDevise" class="col-sm-4 control-label">{{ 'ECRAN.PROFIL.DEVISE' | translate }}</label>
                <div class="col-sm-8">
                    <select class="form-control"
                            ng-options="devise.corresp | translate for devise in ctrl.deviseOptions track by devise.id"
                            ng-model="ctrl.deviseSelected" selectpicker required></select>
                </div>
            </div>
        </div>
    </div>

    <div ng-switch on="modeAssistant">
        <!--
          EN MODE ASSISTANT
        -->
        <div ng-switch-when="true"></div>
        <!--
          EN MODE AUTONOME
        -->
        <div ng-switch-when="false" ng-if="budgets">
            <cu-budgets action="showModal($budget)" budgets="budgets"></cu-budgets>
        </div>

    </div>
</div>
